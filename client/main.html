<head>
  <title>T Card System</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body class="grey lighten-2">
  <nav class="grey darken-3">
    <div class="container">
      <div class="nav-wrapper">
        <a href="#" class="brand-logo">T Card System</a>
        <ul id="nav-mobile" class="right hide-on-med-and-down">
          {{#if currentUser}}
          <li class="nav-item">
            <a class="waves-effect waves-light btn modal-trigger" href="#addModal">Add Card</a>
            <a class="waves-effect waves-light btn modal-trigger" id="myBtn" onclick="myFunction()">HELP</a>
          </li>
          {{/if}}
          <li class="nav-item">
            {{> loginButtons}}
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <div class="container">
    <h1>Cards</h1> {{#if currentUser}}
    <ul class="collection">
    </ul>
    {{else}}
    <p>Please login to see "cards".</p>
    {{/if}}
  </div>
  {{> add}}
  <div class="container">
  	<div id="result"></div>
    <div id="boards">
      <div class="board" id="board1">
        <header>On-Call</header>
        <div class="cards" id="b1">
            {{# each onCall}}
              {{> card}}
            {{/each}}
        </div>
      </div>
      <div class="board" id="board2">
        <header>Deployed</header>
        <div class="cards" id="b2">
          {{# each deployed}}
            {{> card}}
          {{/each}}
        </div>
      </div>
      <div class="board" id="board3">
        <header>Pending</header>
        <div class="cards" id="b3">
        </div>
      </div>
      <div class="board" id="board4">
        <header>Operational</header>
        <div class="cards" id="b4">
        </div>
      </div>
    </div>
  </div>
  <script>
    function show(obj)
  {
  var x = document.getElementById(obj.id).getElementsByClassName(obj.id)[0];
  if (x.style.display === "none") {
          x.style.display = "block";
      } else {
          x.style.display = "none";
      }
  }
</script>
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>
    <h1 class="help">Adding a card</h1>
    <p class="helpText">To Add a card, click the “Add Card” button at the top of the page. This will cause a pop-up to appear,
    prompting the user to add in required information. Once the fields have been filled in,
    simply click “Submit” at the bottom of the page and the new card will appear on the board.</p>

    <h2 class="help">Deleting a card</h2>
    <p  class="helpText"> To delete a card, click the “x” located on the bottom right of each card. </p>
    <h3 class="help">Dragging a card</h3>
    <p  lass="helpText"> To drag a card, hover the mouse over the desired card you want to move. Click on the card and simply drag it to the desired column. </p>
    <h4 class="help">Updating Cards</h4>
    <p  class="helpText">To Update a card, click the pen symbol located on the top right of the card.</p>
    <h5 class="help">Program Features</h5>
    <p  class="helpText">Text about Features.</p>
    <h6 class="help">Program Dependancies</h6>
    <p  class="helpText">Text about Dependancies.</p>

  </div>
<script>
// Get the modal
var modal = document.getElementById('myModal');
// Get the button that opens the modal
var btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal
function myFunction(){
 modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
    modal.style.display = "none";
}
</script>

</div>
</body>

<template name="note">
  <li class="collection-item">
    {{text}} <strong> Added by {{username}}</strong>
    <a href="#" class="delete-note secondary-content">
      <i class="material-icons">close</i>
    </a>
  </li>
</template>

<template name="add">
  <div id="addModal" class="modal">
    <div class="modal-content">
      <form id="personnel-form" class="add-form">
        <div class="row">
          <div class="input-field col s4">
            <select>
              <option value="" disabled selected>Choose your card</option>
              <option value="1">Team</option>
              <option value="2">Personnel</option>
              <option value="3">Boat</option>
            </select>
            <label>T-Card Type</label>
          </div>
        </div>
          {{> personnel}}
    </form>
    </div>
  </div>
</template>

<template name="personnel">
    <div class="row">
      <div class="input-field col s4">
        <input id="agency" type="text" class="validate">
        <label for="agency">Agency</label>
      </div>
      <div class="input-field col s4">
        <input id="name" type="text" class="validate">
        <label for="name">Name</label>
      </div>
      <div class="input-field col s4">
        <input id="incidentRole" type="text" class="validate">
        <label for="incidentRole">Incident Role</label>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s6">
        <input id="mobileNo" type="text" class="validate">
        <label for="mobileNo">Mobile No.</label>
      </div>
      <div class="input-field col s6">
        <input id="callsign" type="text" class="validate">
        <label for="callsign">Callsign</label>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s6">
        <input id="requestNo" type="text" class="validate">
        <label for="requestNo">Request No.</label>
      </div>
      <div class="input-field col s6">
        <input id="checkIn" type="text" class="validate">
        <label for="checkIn">Date/Time Check In</label>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s12">
        <input id="departurePoint" type="text" class="validate">
        <label for="departurePoint">Departure Point</label>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s12">
        <input id="travelMethod" type="text" class="validate">
        <label for="travelMethod">Method Of Travel</label>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s6">
        <input id="dateTime" type="text" class="validate">
        <label for="dateTime">Date/Time</label>
      </div>
      <div class="input-field col s6">
        <input id="dateTime1" type="text" class="validate">
        <label for="dateTime1">Date/Time</label>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s6">
        <input id="arrivalLocation" type="text" class="validate">
        <label for="arrivalLocation">Arrival Location</label>
      </div>
      <div class="input-field col s6">
        <input id="eta" type="text" class="validate">
        <label for="eta">ETA</label>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s12">
        <input id="unknown" type="text" class="validate">
        <label for="unknown">Unknown</label>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s6">
        <input id="incidentLocation" type="text" class="validate">
        <label for="incidentLocation">Incident Location</label>
      </div>
      <div class="input-field col s6">
        <input id="time" type="text" class="validate">
        <label for="time">Time</label>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s12">
        <input id="status" type="text" class="validate">
        <label for="status">Status</label>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s12">
        <input id="notes" type="text" class="validate">
        <label for="notes">Notes</label>
      </div>
    </div>
    <button class="btn waves-effect waves-light" type="submit" name="action">Submit
      <i class="material-icons right">send</i>
    </button>
</template>

<template name="card">
  <div class="row" id={{id}} onclick="show(this);test(this)" >
    <div class="col s1 m12">
      <div class="card grey darken-4">
        <div class="card-content white-text">
          <span class="card-title">{{name}}</span>
         <div class="{{id}}" style="display : none;" >
          <p class="cardText">Name: {{name}}</p>
          <p class="cardText">Agency: {{agency}}</p>
          <p class="cardText">Callsign: {{callsign}}</p>
          <p class="cardText">Status: {{status}}</p>
          <p class="cardText">Notes: {{notes}}</p>
          <p class="cardText">TravelMethod: {{travel_method}}</p>
          <p class="cardText">Time: {{time}}</p>
          <p class="cardText">Unknown: {{unknown}}</p>
          <p class="cardText">IncidentRole: {{incident_role}}</p>
          <p class="cardText">IncidentLocation: {{incident_location}}</p>
          <p class="cardText">ETA: {{eta}}</p>
          <p class="cardText">DateTime: {{date_time}}</p>
          <p class="cardText">DateTime1: {{date_time1}}</p>
          <p class="cardText">ArrivalLocation: {{arrival_location}}</p>
          <p class="cardText">TravelMethod: {{travel_method}}</p>
          <p class="cardText">DeparturePoint: {{departure_point}}</p>
          <p class="cardText">RequestNo: {{request_no}}</p>
          <p class="cardText">MobileNo: {{mobile_no}}</p>
          </div>
          <a href="#" class="delete-card secondary-content">
          <i class="material-icons">close</i>
          </a>
        </div>
        <div class ="cardColour">
      </div>
    </div>
  </div>
  </div>
</template>
